import{N as $,P as T,S,a as V}from"./navigation.min-4f0dff63.js";import{_ as I,a as N,b as E,m as U,r as p,o as i,c,d as t,F as _,j as m,k as f,v,t as n,e as g,w as u,q as P,g as R,p as A,l as D}from"./index-95916aaa.js";import{c as w}from"./cart-8d167bb9.js";const{VITE_URL:b,VITE_PATH:h}={VITE_URL:"https://vue3-course-api.hexschool.io",VITE_PATH:"harper",BASE_URL:"/mini_fish_tank/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},j={data(){return{modules:[$,T],code:"",products:[]}},components:{Swiper:S,SwiperSlide:V,RouterLink:N},methods:{...E(w,["modifyCart","deleteItem","addCouponCode","deleteAllCarts","addToCart"]),getProducts(s){let d=`${b}/v2/api/${h}/products`;switch(s){case"小魚缸":case"魚隻":case"設備":case"DIY":d=`${b}/v2/api/${h}/products?category=${s}`;break;default:d=`${b}/v2/api/${h}/products`}this.$http(d).then(r=>{console.log(r),this.products=r.data.products})}},computed:{...U(w,["carts","total","final_total"]),discount(){return(this.total-this.final_total).toFixed(2)}},mounted(){this.getProducts()}},e=s=>(A("data-v-afe1ac19"),s=s(),D(),s),B=e(()=>t("div",{class:"position-relative d-flex align-items-center justify-content-center",style:{"min-height":"200px"}},[t("div",{class:"position-absolute",style:{top:"0",bottom:"0",left:"0",right:"0","background-image":"url('../src/assets/seabed.png')","background-position":"center center",opacity:"0.8"}}),t("h2",{class:"fw-bold"},"購物車清單")],-1)),L={class:"container py-4"},q={class:"mt-3"},F=e(()=>t("h3",{class:"mt-3 mb-4"},"內容",-1)),H={class:"row"},M={class:"col-md-8"},O={class:"text-end mb-5"},Y={class:"table"},z=e(()=>t("thead",null,[t("tr",null,[t("th",{scope:"col",class:"border-0 ps-0"},"商品名稱"),t("th",{scope:"col",class:"border-0"},"商品數量"),t("th",{scope:"col",class:"border-0"},"商品價格"),t("th",{scope:"col",class:"border-0"})]),t("tr",{class:"border-bottom"})],-1)),G={scope:"row",class:"border-0 px-0 font-weight-normal py-4"},J=["src"],K={class:"mb-0 fw-bold ms-3 d-inline-block"},Q={class:"border-0 align-middle",style:{"max-width":"160px"}},W={class:"input-group pe-5"},X={class:"input-group-prepend"},Z=["onClick"],tt=e(()=>t("i",{class:"fas fa-minus"},null,-1)),ot=[tt],st=["onUpdate:modelValue"],et={class:"input-group-append"},dt=["onClick"],nt=e(()=>t("i",{class:"fas fa-plus"},null,-1)),lt=[nt],at={class:"border-0 align-middle"},it={class:"mb-0 ms-auto text-end"},ct={class:"border-0 align-middle"},rt=["onClick"],pt={class:"input-group w-50 mb-3"},_t={class:"input-group-append"},ut=e(()=>t("i",{class:"fas fa-paper-plane"},null,-1)),bt=[ut],ht={class:"col-md-4"},mt={class:"border p-4 mb-4"},ft=e(()=>t("h4",{class:"fw-bold mb-4"},"訂單內容",-1)),vt={class:"table text-muted border-bottom"},gt=e(()=>t("th",{scope:"row",class:"border-0 px-0 pt-4 font-weight-normal"},"小計金額",-1)),wt={class:"text-end border-0 px-0 pt-4"},yt=e(()=>t("tr",null,[t("th",{scope:"row",class:"border-0 px-0 pt-0 pt-2 pb-3 font-weight-normal"},"付款方式"),t("td",{class:"text-end border-0 px-0 pt-0 pt-2 pb-3"},"信用卡")],-1)),kt=e(()=>t("th",{scope:"row",class:"border-0 px-0 pt-0 pb-4 font-weight-normal"},"折扣金額",-1)),xt={class:"text-end border-0 px-0 pt-0 pb-4"},Ct={class:"d-flex justify-content-between mt-4"},$t=e(()=>t("p",{class:"mb-0 h4 fw-bold"},"總計金額",-1)),Tt={class:"mb-0 h4 fw-bold"},St=e(()=>t("button",{type:"button",class:"btn text-white w-100 mt-4",style:{"background-color":"rgb(89,177,218)"}},"結帳",-1)),Vt={class:"my-5"},It=e(()=>t("h3",{class:"fw-bold"},"其它加購",-1)),Nt={class:"swiper-container mt-4 mb-5"},Et={class:"card border-0 mb-4 position-relative position-relative"},Ut=["src"],Pt=e(()=>t("a",{href:"#",class:"text-dark"},null,-1)),Rt={class:"card-body p-0"},At={class:"mb-0 mt-3"},Dt=["onClick"],jt={class:"card-text mb-0"},Bt={class:"text-muted"},Lt=e(()=>t("p",{class:"text-muted mt-3"},null,-1));function qt(s,d,r,Ft,l,y){const k=p("router-link"),x=p("swiper-slide"),C=p("swiper");return i(),c(_,null,[B,t("div",L,[t("div",q,[F,t("div",H,[t("div",M,[t("div",O,[t("button",{class:"btn btn-outline-danger",type:"button",onClick:d[0]||(d[0]=o=>s.deleteAllCarts())},"清空購物車")]),t("table",Y,[z,t("tbody",null,[(i(!0),c(_,null,m(s.carts,o=>(i(),c("tr",{class:"border-bottom",key:o.id},[t("th",G,[t("img",{src:o.product.imageUrl,alt:"",style:{width:"72px",height:"72px","object-fit":"cover"}},null,8,J),t("p",K,n(o.product.title),1)]),t("td",Q,[t("div",W,[t("div",X,[t("button",{class:"btn btn-outline-dark border-0 py-2",type:"button",id:"button-addon1",onClick:a=>s.modifyCart(o,"reduce")},ot,8,Z)]),f(t("input",{type:"text",class:"form-control border-0 text-center my-auto shadow-none",placeholder:"","aria-label":"Example text with button addon","aria-describedby":"button-addon1","onUpdate:modelValue":a=>o.qty=a},null,8,st),[[v,o.qty]]),t("div",et,[t("button",{class:"btn btn-outline-dark border-0 py-2",type:"button",id:"button-addon2",onClick:a=>s.modifyCart(o,"increase")},lt,8,dt)])])]),t("td",at,[t("p",it,"NT$"+n(o.total),1)]),t("td",ct,[t("i",{class:"fas fa-times",onClick:a=>s.deleteItem(o)},null,8,rt)])]))),128))])]),t("div",pt,[f(t("input",{type:"text",class:"form-control rounded-0 border-bottom border-top-0 border-start-0 border-end-0 shadow-none",placeholder:"優惠卷代碼(happy09)","aria-label":"Recipient's username","aria-describedby":"button-addon2","onUpdate:modelValue":d[1]||(d[1]=o=>l.code=o)},null,512),[[v,l.code]]),t("div",_t,[t("button",{class:"btn btn-outline-dark border-bottom border-top-0 border-start-0 border-end-0 rounded-0",type:"button",id:"button-addon2",onClick:d[2]||(d[2]=o=>s.addCouponCode(l.code))},bt)])])]),t("div",ht,[t("div",mt,[ft,t("table",vt,[t("tbody",null,[t("tr",null,[gt,t("td",wt,"NT$"+n(s.total),1)]),yt,t("tr",null,[kt,t("td",xt,"NT$"+n(y.discount),1)])])]),t("div",Ct,[$t,t("p",Tt,"NT$"+n(s.final_total),1)]),g(k,{to:"/checkout"},{default:u(()=>[St]),_:1})])])]),t("div",Vt,[It,t("div",Nt,[g(C,{"slides-per-view":1,"space-between":50,modules:l.modules,navigation:"",pagination:{clickable:!0}},{default:u(()=>[(i(!0),c(_,null,m(l.products,o=>(i(),P(x,{key:o.id},{default:u(()=>[t("div",Et,[t("img",{src:o.imageUrl,class:"card-img-top rounded-0 object-cover",style:{height:"500px"},alt:"..."},null,8,Ut),Pt,t("div",Rt,[t("h4",At,[t("a",{href:"#",onClick:a=>s.addToCart(o.id,1)},n(o.title),9,Dt)]),t("p",jt,[R("NT$"+n(o.price),1),t("span",Bt,[t("del",null,"NT$"+n(o.origin_price),1)])]),Lt])])]),_:2},1024))),128))]),_:1},8,["modules"])])])])])],64)}const Yt=I(j,[["render",qt],["__scopeId","data-v-afe1ac19"]]);export{Yt as default};
