import{s as $}from"./seabed-47299669.js";import{N as T,P as S,S as V,a as I}from"./navigation.min-6fffcc07.js";import{_ as N,a as E,b as U,m as P,r,o as i,c,d as t,k as R,F as p,j as m,l as f,v,t as n,e as g,w as _,s as A,g as D,p as j,q as B}from"./index-60b39183.js";import{c as w}from"./cart-04e3e959.js";const{VITE_URL:u,VITE_PATH:b}={VITE_URL:"https://vue3-course-api.hexschool.io",VITE_PATH:"harper",BASE_URL:"/mini_fish_tank/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},L={data(){return{modules:[T,S],code:"",products:[],seabed:$}},components:{Swiper:V,SwiperSlide:I,RouterLink:E},methods:{...U(w,["modifyCart","deleteItem","addCouponCode","deleteAllCarts","addToCart"]),getProducts(s){let d=`${u}/v2/api/${b}/products`;switch(s){case"小魚缸":case"魚隻":case"設備":case"DIY":d=`${u}/v2/api/${b}/products?category=${s}`;break;default:d=`${u}/v2/api/${b}/products`}this.$http(d).then(h=>{this.products=h.data.products})}},computed:{...P(w,["carts","total","final_total"]),discount(){return(this.total-this.final_total).toFixed(2)}},mounted(){this.getProducts()}},e=s=>(j("data-v-bf0f3255"),s=s(),B(),s),q={class:"position-relative d-flex align-items-center justify-content-center",style:{"min-height":"200px"}},F=e(()=>t("h2",{class:"fw-bold"},"購物車清單",-1)),H={class:"container py-4"},M={class:"mt-3"},O=e(()=>t("h3",{class:"mt-3 mb-4"},"內容",-1)),z={class:"row"},Y={class:"col-md-8"},G={class:"text-end mb-5"},J={class:"table"},K=e(()=>t("thead",null,[t("tr",null,[t("th",{scope:"col",class:"border-0 ps-0"},"商品名稱"),t("th",{scope:"col",class:"border-0"},"商品數量"),t("th",{scope:"col",class:"border-0"},"商品價格"),t("th",{scope:"col",class:"border-0"})]),t("tr",{class:"border-bottom"})],-1)),Q={scope:"row",class:"border-0 px-0 font-weight-normal py-4"},W=["src"],X={class:"mb-0 fw-bold ms-3 d-inline-block"},Z={class:"border-0 align-middle",style:{"max-width":"160px"}},tt={class:"input-group pe-5"},ot={class:"input-group-prepend"},st=["onClick"],et=e(()=>t("i",{class:"fas fa-minus"},null,-1)),dt=[et],nt=["onUpdate:modelValue"],lt={class:"input-group-append"},at=["onClick"],it=e(()=>t("i",{class:"fas fa-plus"},null,-1)),ct=[it],rt={class:"border-0 align-middle"},pt={class:"mb-0 ms-auto text-end"},_t={class:"border-0 align-middle"},ut=["onClick"],bt={class:"input-group w-50 mb-3"},ht={class:"input-group-append"},mt=e(()=>t("i",{class:"fas fa-paper-plane"},null,-1)),ft=[mt],vt={class:"col-md-4"},gt={class:"border p-4 mb-4"},wt=e(()=>t("h4",{class:"fw-bold mb-4"},"訂單內容",-1)),yt={class:"table text-muted border-bottom"},kt=e(()=>t("th",{scope:"row",class:"border-0 px-0 pt-4 font-weight-normal"},"小計金額",-1)),xt={class:"text-end border-0 px-0 pt-4"},Ct=e(()=>t("tr",null,[t("th",{scope:"row",class:"border-0 px-0 pt-0 pt-2 pb-3 font-weight-normal"},"付款方式"),t("td",{class:"text-end border-0 px-0 pt-0 pt-2 pb-3"},"信用卡")],-1)),$t=e(()=>t("th",{scope:"row",class:"border-0 px-0 pt-0 pb-4 font-weight-normal"},"折扣金額",-1)),Tt={class:"text-end border-0 px-0 pt-0 pb-4"},St={class:"d-flex justify-content-between mt-4"},Vt=e(()=>t("p",{class:"mb-0 h4 fw-bold"},"總計金額",-1)),It={class:"mb-0 h4 fw-bold"},Nt=e(()=>t("button",{type:"button",class:"btn text-white w-100 mt-4",style:{"background-color":"rgb(89,177,218)"}},"結帳",-1)),Et={class:"my-5"},Ut=e(()=>t("h3",{class:"fw-bold"},"其它加購",-1)),Pt={class:"swiper-container mt-4 mb-5"},Rt={class:"card border-0 mb-4 position-relative position-relative"},At=["src"],Dt=e(()=>t("a",{href:"#",class:"text-dark"},null,-1)),jt={class:"card-body p-0"},Bt={class:"mb-0 mt-3"},Lt=["onClick"],qt={class:"card-text mb-0"},Ft={class:"text-muted"},Ht=e(()=>t("p",{class:"text-muted mt-3"},null,-1));function Mt(s,d,h,Ot,l,y){const k=r("router-link"),x=r("swiper-slide"),C=r("swiper");return i(),c(p,null,[t("div",q,[t("div",{class:"position-absolute",style:R([{top:"0",bottom:"0",left:"0",right:"0","background-position":"center center",opacity:"0.8"},{"background-image":`url(${l.seabed})`}])},null,4),F]),t("div",H,[t("div",M,[O,t("div",z,[t("div",Y,[t("div",G,[t("button",{class:"btn btn-outline-danger",type:"button",onClick:d[0]||(d[0]=o=>s.deleteAllCarts())},"清空購物車")]),t("table",J,[K,t("tbody",null,[(i(!0),c(p,null,m(s.carts,o=>(i(),c("tr",{class:"border-bottom",key:o.id},[t("th",Q,[t("img",{src:o.product.imageUrl,alt:"",style:{width:"72px",height:"72px","object-fit":"cover"}},null,8,W),t("p",X,n(o.product.title),1)]),t("td",Z,[t("div",tt,[t("div",ot,[t("button",{class:"btn btn-outline-dark border-0 py-2",type:"button",id:"button-addon1",onClick:a=>s.modifyCart(o,"reduce")},dt,8,st)]),f(t("input",{type:"text",class:"form-control border-0 text-center my-auto shadow-none",placeholder:"","aria-label":"Example text with button addon","aria-describedby":"button-addon1","onUpdate:modelValue":a=>o.qty=a},null,8,nt),[[v,o.qty]]),t("div",lt,[t("button",{class:"btn btn-outline-dark border-0 py-2",type:"button",id:"button-addon2",onClick:a=>s.modifyCart(o,"increase")},ct,8,at)])])]),t("td",rt,[t("p",pt,"NT$"+n(o.total),1)]),t("td",_t,[t("i",{class:"fas fa-times",onClick:a=>s.deleteItem(o)},null,8,ut)])]))),128))])]),t("div",bt,[f(t("input",{type:"text",class:"form-control rounded-0 border-bottom border-top-0 border-start-0 border-end-0 shadow-none",placeholder:"優惠卷代碼(happy09)","aria-label":"Recipient's username","aria-describedby":"button-addon2","onUpdate:modelValue":d[1]||(d[1]=o=>l.code=o)},null,512),[[v,l.code]]),t("div",ht,[t("button",{class:"btn btn-outline-dark border-bottom border-top-0 border-start-0 border-end-0 rounded-0",type:"button",id:"button-addon2",onClick:d[2]||(d[2]=o=>s.addCouponCode(l.code))},ft)])])]),t("div",vt,[t("div",gt,[wt,t("table",yt,[t("tbody",null,[t("tr",null,[kt,t("td",xt,"NT$"+n(s.total),1)]),Ct,t("tr",null,[$t,t("td",Tt,"NT$"+n(y.discount),1)])])]),t("div",St,[Vt,t("p",It,"NT$"+n(s.final_total),1)]),g(k,{to:"/checkout"},{default:_(()=>[Nt]),_:1})])])]),t("div",Et,[Ut,t("div",Pt,[g(C,{"slides-per-view":1,"space-between":50,modules:l.modules,navigation:"",pagination:{clickable:!0}},{default:_(()=>[(i(!0),c(p,null,m(l.products,o=>(i(),A(x,{key:o.id},{default:_(()=>[t("div",Rt,[t("img",{src:o.imageUrl,class:"card-img-top rounded-0 object-cover",style:{height:"500px"},alt:"..."},null,8,At),Dt,t("div",jt,[t("h4",Bt,[t("a",{href:"#",onClick:a=>s.addToCart(o.id,1)},n(o.title),9,Lt)]),t("p",qt,[D("NT$"+n(o.price),1),t("span",Ft,[t("del",null,"NT$"+n(o.origin_price),1)])]),Ht])])]),_:2},1024))),128))]),_:1},8,["modules"])])])])])],64)}const Kt=N(L,[["render",Mt],["__scopeId","data-v-bf0f3255"]]);export{Kt as default};
